<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Health Tracker Dashboard</title>
    <link rel="stylesheet" href="style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <!-- NAV -->
    <div id="app-nav"></div>
    <script src="nav.js"></script>

    <h1>üìä Health Tracker Dashboard</h1>

    <div class="cards">
      <div class="card">
        <h3>üî• Calories Today</h3>
        <p id="todayCalories">-- / --</p>
        <div class="progress-bg">
          <div class="progress-bar" id="calorieProgress"></div>
        </div>
      </div>

      <div class="card">
        <h3>üí™ Protein Today</h3>
        <p id="todayProtein">-- / --</p>
        <small id="proteinRange"></small>
        <div class="progress-bg">
          <div class="progress-bar protein" id="proteinProgress"></div>
        </div>
      </div>

      <div class="card">
        <h3>üèãÔ∏è Workouts This Week</h3>
        <p id="workouts">-- / 5</p>
      </div>

      <div class="card">
        <h3>Body Weight (kg)</h3>
        <p id="bodyWeight">--</p>
      </div>
    </div>

    <section>
      <div class="workout-header">
        <button class="nav-btn" onclick="changeDietMonth(-1)">‚¨Ö</button>
        <h2 id="dietMonthTitle">Calories & Protein</h2>
        <button class="nav-btn" onclick="changeDietMonth(1)">‚û°</button>
      </div>
      <canvas id="calorieChart"></canvas>
    </section>

    <section>
      <canvas id="proteinChart"></canvas>
    </section>

    <section>
      <div class="workout-header">
        <button class="nav-btn" onclick="changeWorkoutMonth(-1)">‚¨Ö</button>
        <h2 id="workoutTitle">Workout Summary</h2>
        <button class="nav-btn" onclick="changeWorkoutMonth(1)">‚û°</button>
      </div>

      <canvas id="workoutChart"></canvas>
      <p>Avg Sets: <strong id="wkSets">--</strong></p>

      <div class="legend">
        <span class="dot green"></span> Workout
        <span class="dot yellow"></span> Rest
      </div>
    </section>

    <script src="script.js"></script>
    <script src="global.js"></script>
    <script>
      function CallAndroidToast(msg) {
        if (window.Android && Android.showToast) {
          Android.showToast(msg);
        } else {
          console.log("Android bridge not available");
        }
      }
      function showDeviceInfo() {
        if (window.Android) {
          const info = Android.getDeviceInfo();
          alert(info);
        } else {
          alert("hmmm");
        }
      }
      function fetchSteps() {
        console.log("value: ", window.Health.ping());
        if (window.Health && Health.getSteps()) {
          const steps = Health.getSteps();
          alert("Steps: ", steps);
          console.log("Steps: ", steps);
          if (steps === -1) {
            console.log("Health data not availabe Yet");
          }
        }
      }
    </script>
  </body>
</html>
